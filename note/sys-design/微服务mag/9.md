# ç¬¬9ç« ï¼šæ‰©å±•ï¼ˆå‰ç«¯ï¼‰

åœ¨ä¸Šä¸€ç« [å®ç”¨APIï¼ˆå‰ç«¯ï¼‰](08_utility_apis__frontend_.md)ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†Backstageå‰ç«¯çš„==ä¸åŒéƒ¨åˆ†å¦‚ä½•å…±äº«é€šçŸ¥==æ˜¾ç¤ºæˆ–é”™è¯¯å¤„ç†ç­‰é€šç”¨åŠŸèƒ½

è¿™äº›APIä¸ºæ’ä»¶æä¾›äº†ä¸€è‡´çš„é€šä¿¡æ–¹å¼ã€‚ä½†è¿™äº›æ’ä»¶æœ¬èº«ï¼Œè¿åŒå®ƒä»¬çš„é¡µé¢ã€å¯¼èˆªé¡¹ç”šè‡³å®ƒä»¬æä¾›çš„API

> æ˜¯å¦‚ä½•==ç»„ç»‡å’Œè¿æ¥==èµ·æ¥å½¢æˆä¸€ä¸ªå®Œæ•´ã€è¿è´¯çš„Backstageåº”ç”¨çš„å‘¢ï¼Ÿ

Backstageå¦‚ä½•çŸ¥é“åœ¨å“ªé‡Œæ”¾ç½®æ–°é¡µé¢ï¼Œæˆ–è€…å¦‚ä½•åœ¨å¦ä¸€ä¸ªæ’ä»¶çš„è§†å›¾ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰å¡ç‰‡ï¼Ÿ

è¿™å°±æ˜¯**æ‰©å±•ï¼ˆå‰ç«¯ï¼‰**çš„ç”¨æ­¦ä¹‹åœ°

æ‰©å±•æ˜¯æ„å»ºæ•´ä¸ªBackstageå‰ç«¯åº”ç”¨è§†è§‰å’ŒåŠŸèƒ½æ¡†æ¶çš„åŸºæœ¬æ„å»ºå—ã€‚

## å‰ç«¯æ‰©å±•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

æƒ³è±¡Backstageåº”ç”¨æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¹é«˜æ¨¡å‹ã€‚æ¯ä¸ª**æ‰©å±•**å°±åƒä¸€å—å•ç‹¬çš„ä¹é«˜ç§¯æœ¨ã€‚[å‰ç«¯æ’ä»¶](02_frontend_plugins_.md)åˆ™åƒæ˜¯ç‰¹å®šç§¯æœ¨çš„é›†åˆï¼Œç»„åˆåœ¨ä¸€èµ·å¯ä»¥æ„å»ºç‰¹å®šåŠŸèƒ½ï¼ˆå¦‚ä¹é«˜æ±½è½¦æˆ–æˆ¿å­ï¼‰

ä»è®¸å¤šç‹¬ç«‹æ’ä»¶æ„å»ºå¤§å‹å¯å®šåˆ¶åº”ç”¨çš„æŒ‘æˆ˜åœ¨äºç¡®ä¿æ‰€æœ‰éƒ¨åˆ†èƒ½æ— ç¼è¡”æ¥ã€‚å¦‚æœæ²¡æœ‰æ ‡å‡†åŒ–çš„æ–¹å¼æ¥å®šä¹‰å’Œè¿æ¥è¿™äº›éƒ¨åˆ†ï¼Œæœ€ç»ˆä¼šå¯¼è‡´æ··ä¹±ã€ä¸ä¸€è‡´ä»¥åŠå®šåˆ¶æˆ–æ›¿æ¢éƒ¨åˆ†åŠŸèƒ½çš„å·¨å¤§å›°éš¾ã€‚

> ==æ‰©å±•é€šè¿‡æä¾›é€šç”¨ç»“æ„è§£å†³äº†è¿™ä¸ªé—®é¢˜==ã€‚æ¯ä¸ªæ‰©å±•å®šä¹‰äº†å®ƒæ˜¯*å“ªç§*ç§¯æœ¨ã€*è¿æ¥åˆ°å“ªé‡Œ*ï¼ˆè¾“å…¥ï¼‰ã€*æä¾›ä»€ä¹ˆ*ï¼ˆè¾“å‡ºï¼‰ä»¥åŠ*å¦‚ä½•è¡Œä¸º*ï¼ˆå·¥å‚å‡½æ•°ï¼‰ã€‚è¿™ç§æ¨¡å—åŒ–æ–¹æ³•æ”¯æŒçµæ´»çš„ç»„è£…å’Œè¦†ç›–ï¼Œå®ç°åº”ç”¨UIå’ŒåŠŸèƒ½çš„æ·±åº¦å®šåˆ¶ã€‚

## å‰ç«¯æ‰©å±•çš„æ ¸å¿ƒæ¦‚å¿µ

æ‰©å±•æ˜¯Backstageå‰ç«¯çš„åŸºçŸ³ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒæ€æƒ³ï¼š

1.  **ä¹é«˜ç§¯æœ¨ï¼ˆæ‰©å±•ï¼‰**ï¼š
    *   æ‰©å±•æ˜¯ä¸€ä¸ªè‡ªåŒ…å«çš„UIæˆ–åŠŸèƒ½å•å…ƒã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå®Œæ•´é¡µé¢ã€é¡µé¢çš„ä¸€éƒ¨åˆ†ã€æŒ‰é’®ï¼Œç”šè‡³æ˜¯åƒ[å®ç”¨API](08_utility_apis__frontend_.md)å®ç°è¿™æ ·çš„éå¯è§†åŒ–éƒ¨åˆ†ã€‚
    *   ä½¿ç”¨`createExtension`æˆ–ç§°ä¸º"è“å›¾"çš„è¾…åŠ©å‡½æ•°å®šä¹‰æ‰©å±•ã€‚

2.  **åº”ç”¨æ‰©å±•æ ‘ï¼ˆä¹é«˜æ¨¡å‹ï¼‰**ï¼š
    *   æ‰€æœ‰æ‰©å±•æŒ‰å±‚æ¬¡æ’åˆ—ï¼Œå½¢æˆæ ‘çŠ¶ç»“æ„ã€‚æ¯ä¸ªæ‰©å±•é€šå¸¸æ˜¯å¦ä¸€ä¸ª"çˆ¶"æ‰©å±•çš„"å­"æ‰©å±•ã€‚
    *   è¿™æ£µæ ‘å†³å®šäº†æ•´ä¸ªåº”ç”¨çš„æ„å»ºå’Œæ¸²æŸ“æ–¹å¼ï¼Œç¡®ä¿ä¸€åˆ‡å„å½’å…¶ä½ã€‚

3.  **è¾“å…¥å’Œè¾“å‡ºï¼ˆä¹é«˜å‡¸ç‚¹å’Œå‡¹æ§½ï¼‰**ï¼š
    *   **è¾“å‡º**ï¼šæ‰©å±•å‘çˆ¶çº§*æä¾›*çš„æ•°æ®æˆ–Reactå…ƒç´ ã€‚å¯ä»¥å°†å…¶è§†ä¸ºä¹é«˜ç§¯æœ¨é¡¶éƒ¨çš„"å‡¸ç‚¹"ã€‚æ¯ä¸ªè¾“å‡ºå¿…é¡»ä¸ç‰¹æ®Šå…±äº«å¼•ç”¨ï¼ˆå¦‚`coreExtensionData.reactElement`ï¼‰å…³è”ä»¥å®šä¹‰å…¶ç±»å‹ã€‚
    *   **è¾“å…¥**ï¼šæ‰©å±•ä»å­çº§*æ¥æ”¶*çš„æ•°æ®æˆ–Reactå…ƒç´ ã€‚è¿™å°±åƒä¹é«˜ç§¯æœ¨åº•éƒ¨çš„"å‡¹æ§½"ã€‚æ‰©å±•æ˜ç¡®å£°æ˜å®ƒ*æœŸæœ›*ä»å­çº§è·å¾—å“ªç§æ•°æ®ã€‚
    *   è¿™æ˜¯æ‰©å±•é€šä¿¡å’Œæ²¿æ ‘ä¼ é€’ä¿¡æ¯çš„ä¸»è¦æ–¹å¼ã€‚

4.  **å·¥å‚å‡½æ•°ï¼ˆç§¯æœ¨å†…éƒ¨æœºåˆ¶ï¼‰**ï¼š
    *   è¿™æ˜¯æ‰©å±•åˆ›å»ºæ—¶è¿è¡Œçš„å®é™…ä»£ç ã€‚å®ƒæ¥æ”¶è¾“å…¥å’Œé…ç½®ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œç„¶åç”Ÿæˆæ‰©å±•å®šä¹‰çš„è¾“å‡ºã€‚å®ƒæ˜¯ä¹é«˜ç§¯æœ¨å†…éƒ¨çš„"é€»è¾‘"ã€‚

5.  **é™„ç€ç‚¹ï¼ˆ`attachTo`ï¼‰**ï¼š
    *   æ­¤å±æ€§å®šä¹‰æ‰©å±•åœ¨`åº”ç”¨æ‰©å±•æ ‘`ä¸­çš„*è¿æ¥ä½ç½®*ã€‚å®ƒæŒ‡å®šçˆ¶æ‰©å±•çš„å”¯ä¸€`id`å’Œåº”è¿æ¥åˆ°çš„è¯¥çˆ¶çº§çš„è¾“å…¥`name`ã€‚è¿™å°±æ˜¯å°†ä¸€å—ä¹é«˜ç§¯æœ¨è¿æ¥åˆ°å¦ä¸€å—çš„æ–¹å¼ã€‚

6.  **é…ç½®ï¼ˆ`config`ï¼‰**ï¼š
    *   æ‰©å±•å¯ä»¥æ¥å—é…ç½®å‚æ•°ï¼Œå…è®¸åœ¨ä¸æ›´æ”¹åº•å±‚ä»£ç çš„æƒ…å†µä¸‹å®šåˆ¶å…¶è¡Œä¸ºã€‚å°±åƒé€‰æ‹©ä¹é«˜ç§¯æœ¨çš„é¢œè‰²æˆ–ç‰¹å®šç»†èŠ‚ã€‚

7.  **æ‰©å±•è“å›¾ï¼ˆé¢„è®¾è®¡çš„ä¹é«˜ä»¶ï¼‰**ï¼š
    *   è™½ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨`createExtension`ï¼ˆæœ€åŸºæœ¬çš„æ–¹å¼ï¼‰ï¼Œä½†Backstageä¹Ÿæä¾›äº†"è“å›¾"å¦‚`PageBlueprint`ã€`NavItemBlueprint`æˆ–`ApiBlueprint`ã€‚è¿™äº›æ˜¯å¸¸è§æ‰©å±•ç±»å‹çš„æ¨¡æ¿ï¼Œä½¿åˆ›å»ºå…·æœ‰é¢„é…ç½®é€šç”¨å±æ€§çš„æ‰©å±•æ›´å®¹æ˜“ï¼Œå°±åƒä½¿ç”¨é¢„è®¾è®¡çš„ä¹é«˜è½¦è½®ä»¶ã€‚

## è§£å†³ç”¨ä¾‹ï¼šæ·»åŠ è‡ªå®šä¹‰ä¸»é¡µéƒ¨åˆ†

å‡è®¾Backstageä¸»é¡µæœ‰ä¸€ä¸ªç‰¹æ®ŠåŒºåŸŸï¼ˆåœ¨åä¸º`app/homepage`çš„æ‰©å±•ä¸Šæš´éœ²ä¸ºåä¸º`main-content`çš„è¾“å…¥ï¼‰ï¼Œå¯ä»¥åœ¨æ­¤æ·»åŠ è‡ªå®šä¹‰Reactå…ƒç´ ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨æ­¤æ·»åŠ ä¸€ä¸ª`CustomGreetingCard`æ¥æ¬¢è¿ç”¨æˆ·ã€‚

é¦–å…ˆï¼Œåˆ›å»ºç®€å•çš„Reactç»„ä»¶ï¼š

```tsx
// plugins/my-custom-plugin/src/components/CustomGreetingCard.tsx
import React from 'react';

export const CustomGreetingCard = () => {
  return (
    <div style={{
      padding: '20px',
      border: '1px solid #ccc',
      borderRadius: '8px',
      background: '#e0f7fa',
      textAlign: 'center'
    }}>
      <h2>ğŸ‘‹ æ¬¢è¿æ¥åˆ°Backstageï¼Œå›¢é˜Ÿï¼</h2>
      <p>è¿™æ˜¯ä½ çš„ä¸ªæ€§åŒ–é—¨æˆ·ã€‚å¿«é€Ÿæ¢ç´¢ç›®å½•å¹¶åˆ›å»ºæ–°æœåŠ¡ï¼</p>
    </div>
  );
};
```
ç°åœ¨ï¼Œå°†å…¶å®šä¹‰ä¸º**æ‰©å±•**å¹¶æŒ‡å®šå¦‚ä½•è¿æ¥åˆ°`åº”ç”¨æ‰©å±•æ ‘`ã€‚æˆ‘ä»¬å°†æ­¤æ”¾å…¥åä¸º`my-custom-plugin`çš„æ–°æ’ä»¶ä¸­ã€‚

```tsx
// plugins/my-custom-plugin/src/plugin.ts
import {
  createFrontendPlugin,
  createExtension, // ä½¿ç”¨åŸºç¡€æ‰©å±•åˆ›å»ºå™¨
  coreExtensionData, // ç”¨äºå¸¸è§æ•°æ®ç±»å‹å¦‚Reactå…ƒç´ 
} from '@backstage/frontend-plugin-api';
import { CustomGreetingCard } from './components/CustomGreetingCard';
import React from 'react'; // åˆ«å¿˜äº†å¯¼å…¥React

// 1. å®šä¹‰æˆ‘ä»¬çš„è‡ªå®šä¹‰æ‰©å±•
const customGreetingExtension = createExtension({
  id: 'my-custom-plugin/greeting-card', // æ‰©å±•çš„å”¯ä¸€ID
  // 2. æˆ‘ä»¬å¸Œæœ›å°†å…¶è¿æ¥åˆ°å‡è®¾çš„'homepage'æ‰©å±•çš„'main-content'è¾“å…¥ã€‚
  // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ ä¼šä»æ–‡æ¡£/ä»£ç ä¸­æ‰¾åˆ°æ­£ç¡®çš„çˆ¶IDå’Œè¾“å…¥åç§°ã€‚
  attachTo: { id: 'app/homepage', input: 'main-content' },
  // 3. æ­¤æ‰©å±•è¾“å‡ºä¸€ä¸ªReactå…ƒç´ ã€‚
  output: [coreExtensionData.reactElement],
  // 4. å·¥å‚å‡½æ•°ç”Ÿæˆè¾“å‡ºã€‚
  factory() {
    return [coreExtensionData.reactElement(<CustomGreetingCard />)];
  },
});

// 5. åˆ›å»ºä¸€ä¸ªæ’ä»¶æ¥æ‰˜ç®¡æˆ‘ä»¬çš„æ‰©å±•
export const myCustomPlugin = createFrontendPlugin({
  pluginId: 'my-custom-plugin',
  extensions: [customGreetingExtension],
});
```
*ä»£ç è¯´æ˜ï¼š*
*   `createExtension`ï¼šè¿™æ˜¯å®šä¹‰æ‰©å±•çš„åŸºæœ¬å‡½æ•°ã€‚
*   `id`ï¼šè¿™æ˜¯Backstageç”¨æ¥ç®¡ç†æ‰©å±•çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå¦‚`my-custom-plugin/greeting-card`ï¼‰ã€‚
*   `attachTo`ï¼šæ­¤å±æ€§è‡³å…³é‡è¦ï¼å®ƒå‘Šè¯‰Backstageæˆ‘ä»¬çš„`customGreetingExtension`åº”è¿æ¥åˆ°`åº”ç”¨æ‰©å±•æ ‘`ä¸­çš„*å“ªé‡Œ*ã€‚æˆ‘ä»¬æŒ‡å®šçˆ¶çº§çš„IDï¼ˆ`app/homepage`ï¼‰å’Œåº”æ’å…¥çš„ç‰¹å®šè¾“å…¥åç§°ï¼ˆ`main-content`ï¼‰ã€‚
*   `output`ï¼šæˆ‘ä»¬å£°æ˜æ‰©å±•å°†æä¾›ä¸€ä¸ª`React.JSX.Element`ã€‚`coreExtensionData.reactElement`æ˜¯Backstageæä¾›çš„ç‰¹æ®Šå¼•ç”¨ï¼Œè¡¨ç¤ºæ­¤ç±»è¾“å‡ºã€‚
*   `factory()`ï¼šæ­¤å‡½æ•°æ˜¯æˆ‘ä»¬æ‰©å±•çš„æ ¸å¿ƒã€‚å½“Backstageæ„å»ºåº”ç”¨æ—¶ï¼Œæ­¤å‡½æ•°è¿è¡Œã€‚å®ƒæ¥æ”¶è¾“å…¥å’Œé…ç½®ï¼ˆå¦‚æœæœ‰ï¼‰å¹¶è¿”å›è¾“å‡ºæ•°ç»„ã€‚è¿™é‡Œï¼Œå®ƒç®€å•åœ°è¿”å›æˆ‘ä»¬çš„`<CustomGreetingCard />`ç»„ä»¶ï¼Œç”¨å…¶`coreExtensionData.reactElement`å¼•ç”¨åŒ…è£…ã€‚
*   `createFrontendPlugin`ï¼šæˆ‘ä»¬çš„`my-custom-plugin`ç®€å•åœ°æ‰“åŒ…`customGreetingExtension`ï¼Œä»¥ä¾¿å¯ä»¥å°†å…¶å®‰è£…åˆ°Backstageåº”ç”¨ä¸­ã€‚

è¦ä½¿æ­¤ç”Ÿæ•ˆï¼Œéœ€å°†`myCustomPlugin`æ·»åŠ åˆ°`packages/app/src/App.tsx`æ–‡ä»¶ï¼ˆç±»ä¼¼äºç¬¬2ç« ä¸­æ·»åŠ `cloudCostsPlugin`çš„æ–¹å¼ï¼‰ï¼š

```tsx
// packages/app/src/App.tsxï¼ˆç®€åŒ–ï¼‰
import { createApp } from '@backstage/frontend-defaults';
import { myCustomPlugin } from './plugins/my-custom-plugin'; // æˆ‘ä»¬çš„è‡ªå®šä¹‰æ’ä»¶
// ... å…¶ä»–æ’ä»¶çš„å¯¼å…¥

const app = createApp({
  features: [
    myCustomPlugin,
    // ... å…¶ä»–æ’ä»¶å’ŒåŠŸèƒ½
  ],
});

export default app.createRoot();
```
*è¯´æ˜ï¼š* `createApp`ä¸­çš„`features`æ•°ç»„æ˜¯ä½ å‘Šè¯‰BackstageåŠ è½½å“ªäº›æ’ä»¶ï¼ˆä»¥åŠå®ƒä»¬æä¾›çš„æ‰©å±•ï¼‰åˆ°åº”ç”¨ä¸­çš„åœ°æ–¹ã€‚

## åº•å±‚åŸç†ï¼šåº”ç”¨æ‰©å±•æ ‘åœ¨è¿è¡Œä¸­

å½“Backstageåº”ç”¨å¯åŠ¨æ—¶ï¼Œå®ƒä¸ä¼šéšæœºæ˜¾ç¤ºå†…å®¹ã€‚å®ƒé€šè¿‡åƒä¹é«˜ç§¯æœ¨ä¸€æ ·è¿æ¥æ‰€æœ‰`æ‰©å±•`ï¼Œç³»ç»Ÿåœ°æ„å»ºå’Œæ¸²æŸ“`åº”ç”¨æ‰©å±•æ ‘`ã€‚

è®©æˆ‘ä»¬è¿½è¸ªåŠ è½½`myCustomPlugin`åŠå…¶`customGreetingExtension`æ—¶å‘ç”Ÿçš„æƒ…å†µï¼š

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant BA as Backstageåº”ç”¨
    participant CR as æ ¸å¿ƒåº”ç”¨è·¯ç”±æ‰©å±•
    participant CL as æ ¸å¿ƒåº”ç”¨å¸ƒå±€æ‰©å±•
    participant CH as æ ¸å¿ƒåº”ç”¨ä¸»é¡µæ‰©å±•
    participant CG as è‡ªå®šä¹‰é—®å€™æ‰©å±•

    U->>BA: æ‰“å¼€Backstageé—¨æˆ·
    BA->>BA: åŠ è½½é…ç½®çš„æ’ä»¶ï¼ˆå¦‚myCustomPluginï¼‰
    BA->>BA: å‘ç°æ‰€æœ‰æ‰©å±•åŠå…¶é™„ç€ç‚¹
    BA->>BA: æ„å»ºåº”ç”¨æ‰©å±•æ ‘
    Note over BA: åº”ç”¨/æ ¹ -> åº”ç”¨/å¸ƒå±€ -> åº”ç”¨/è·¯ç”± -> åº”ç”¨/ä¸»é¡µ -> è‡ªå®šä¹‰é—®å€™æ‰©å±•
    BA->>CG: è°ƒç”¨è‡ªå®šä¹‰é—®å€™æ‰©å±•çš„factory()
    CG-->>CH: è¾“å‡º<CustomGreetingCard />ä½œä¸ºreactElement
    CH->>CH: å°†<CustomGreetingCard />é›†æˆåˆ°è‡ªå·±çš„è¾“å‡ºä¸­
    CH-->>CL: è¾“å‡ºå…¶å†…å®¹åˆ°çˆ¶çº§
    CL-->>CR: è¾“å‡ºå…¶å¸ƒå±€åˆ°çˆ¶çº§
    CR-->>BA: è¾“å‡ºæœ€ç»ˆçš„åº”ç”¨Reactå…ƒç´ 
    BA->>U: æ¸²æŸ“å®Œæ•´çš„åº”ç”¨UI
```

**é€æ­¥è¯´æ˜ï¼š**

1.  **ç”¨æˆ·æ‰“å¼€Backstageé—¨æˆ·**ï¼šä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€Backstageåº”ç”¨ã€‚
2.  **Backstageåº”ç”¨åŠ è½½æ’ä»¶å’Œæ‰©å±•**ï¼š`createApp`å‡½æ•°åˆå§‹åŒ–å¹¶åŠ è½½æ‰€æœ‰é…ç½®çš„[å‰ç«¯æ’ä»¶](02_frontend_plugins_.md)ï¼ŒåŒ…æ‹¬`myCustomPlugin`ã€‚ç„¶åå‘ç°è¿™äº›æ’ä»¶æä¾›çš„æ‰€æœ‰æ‰©å±•ï¼ˆå¦‚`customGreetingExtension`ï¼‰ã€‚
3.  **åº”ç”¨è¯†åˆ«é™„ç€ç‚¹**ï¼šBackstageæ£€æŸ¥æ¯ä¸ªæ‰©å±•çš„`attachTo`å±æ€§ã€‚å¯¹äº`customGreetingExtension`ï¼Œå®ƒæ³¨æ„åˆ°å®ƒå¸Œæœ›è¿æ¥åˆ°`app/homepage`æ‰©å±•çš„`main-content`è¾“å…¥ã€‚
4.  **æ„å»ºåº”ç”¨æ‰©å±•æ ‘**ï¼šBackstageæ„å»ºæ‰€æœ‰æ´»åŠ¨æ‰©å±•çš„å®Œæ•´å±‚æ¬¡æ ‘ã€‚æ­¤æ ‘ä»æ ¸å¿ƒå†…ç½®æ‰©å±•ï¼ˆå¦‚`App/Root`ã€`App/Layout`ã€`App/Routes`å’Œæˆ‘ä»¬å‡è®¾çš„`App/Homepage`ï¼‰å¼€å§‹ï¼Œå¹¶åœ¨æŒ‡å®šé™„ç€ç‚¹é›†æˆæ’ä»¶æä¾›çš„æ‰©å±•ï¼ˆå¦‚`customGreetingExtension`ï¼‰ã€‚
5.  **å·¥å‚å‡½æ•°æ‰§è¡Œï¼ˆè‡ªåº•å‘ä¸Šï¼‰**ï¼šBackstageåº”ç”¨é€šè¿‡è°ƒç”¨å…¶`factory`å‡½æ•°å®ä¾‹åŒ–æ‰©å±•ï¼Œä»å¶èŠ‚ç‚¹ï¼ˆæ²¡æœ‰å­çº§çš„æ‰©å±•ï¼‰å¼€å§‹ï¼Œæ²¿æ ‘å‘ä¸Šå·¥ä½œã€‚
    *   æˆ‘ä»¬çš„`customGreetingExtension`çš„`factory()`å‡½æ•°è¿è¡Œï¼Œç”Ÿæˆ`<CustomGreetingCard />`ç»„ä»¶ã€‚ç„¶åæ­¤ç»„ä»¶ä½œä¸º"è¾“å…¥"æä¾›ç»™å…¶çˆ¶çº§`App/Homepage`ã€‚
    *   `App/Homepage`æ¥æ”¶æ­¤è¾“å…¥ï¼Œå°†å…¶ä¸è‡ªå·±çš„é€»è¾‘é›†æˆï¼ˆå¦‚å°†å…¶æ”¾å…¥ç‰¹å®šçš„`div`ä¸­ï¼‰ï¼Œå¹¶ç”Ÿæˆè‡ªå·±çš„è¾“å‡ºï¼Œç„¶åæˆä¸ºå…¶çˆ¶çº§ï¼ˆ`App/Layout`ï¼‰çš„è¾“å…¥ã€‚
    *   æ­¤è¿‡ç¨‹æ²¿æ ‘å‘ä¸Šç»§ç»­ï¼Œç›´åˆ°`App/Root`æ‰©å±•ç”Ÿæˆæ•´ä¸ªåº”ç”¨çš„æœ€ç»ˆå®Œæ•´Reactå…ƒç´ ã€‚
6.  **åº”ç”¨æ¸²æŸ“UI**ï¼šæœ€ç»ˆçš„Reactå…ƒç´ éšååœ¨å±å¹•ä¸Šæ¸²æŸ“ï¼Œå°†ä½ çš„è‡ªå®šä¹‰é—®å€™å¡ç‰‡æ— ç¼é›†æˆåˆ°Backstageä¸»é¡µä¸­ã€‚

è¿™ç§æ ‘ç»“æ„å’Œè‡ªåº•å‘ä¸Šçš„å®ä¾‹åŒ–ç¡®ä¿ç»„ä»¶åœ¨æ„å»ºæ—¶æ‰€æœ‰ä¾èµ–ï¼ˆè¾“å…¥ï¼‰å·²è§£æï¼Œä»è€Œäº§ç”Ÿçµæ´»ä¸”å¯ç»„åˆçš„UIã€‚

## ä»£ç 

å‰ç«¯æ‰©å±•çš„åŸºç¡€ä¸»è¦åœ¨`@backstage/frontend-plugin-api`åŒ…ä¸­ã€‚

*   **`createExtension`**ï¼šè¿™æ˜¯å®šä¹‰ä»»ä½•æ‰©å±•çš„åŸºæœ¬åº•å±‚å‡½æ•°ï¼Œå¦‚æˆ‘ä»¬çš„ç¤ºä¾‹æ‰€ç¤ºã€‚
    *   **æ–‡æ¡£**ï¼šå®˜æ–¹[å‰ç«¯æ‰©å±•æ–‡æ¡£](docs/frontend-system/architecture/20-extensions.md)æ·±å…¥æ¢è®¨äº†å…¶ç»“æ„å’Œç”¨æ³•ã€‚
*   **`coreExtensionData`**ï¼šç”¨äºå®šä¹‰è¾“å…¥å’Œè¾“å‡ºçš„å¸¸è§`ExtensionDataRef`é›†åˆã€‚
    *   **æ–‡æ¡£**ï¼š[å†…ç½®æ•°æ®å¼•ç”¨æ–‡æ¡£](docs/frontend-system/building-plugins/04-built-in-data-refs.md)åˆ—å‡ºäº†å„ç§å¼•ç”¨ï¼Œå¦‚`reactElement`ï¼ˆç”¨äºReactç»„ä»¶ï¼‰ã€`routeRef`ï¼ˆç”¨äºè·¯ç”±ï¼‰å’Œ`title`ï¼ˆç”¨äºæ˜¾ç¤ºæ–‡æœ¬ï¼‰ã€‚
*   **æ‰©å±•è“å›¾**ï¼šç”¨äºåˆ›å»ºç‰¹å®šç±»å‹æ‰©å±•çš„é«˜çº§è¾…åŠ©å‡½æ•°ï¼Œä½¿å¼€å‘æ›´å®¹æ˜“ã€‚
    *   **ç¤ºä¾‹**ï¼š
        *   `PageBlueprint.make`ï¼šç”¨äºåˆ›å»ºå®Œæ•´é¡µé¢ï¼Œå¦‚[å‰ç«¯æ’ä»¶](02_frontend_plugins_.md)ä¸­æ‰€ç¤ºã€‚ï¼ˆæ–‡æ¡£ï¼š[å¸¸è§æ‰©å±•è“å›¾](docs/frontend-system/building-plugins/03-common-extension-blueprints.md)ï¼‰
        *   `NavItemBlueprint.make`ï¼šç”¨äºå‘å¯¼èˆªä¾§è¾¹æ æ·»åŠ é¡¹ã€‚
        *   `ApiBlueprint.make`ï¼šç”¨äºæä¾›[å®ç”¨APIï¼ˆå‰ç«¯ï¼‰](08_utility_apis__frontend_.md)ã€‚
*   **æ‰©å±•é…ç½®ï¼ˆ`app-config.yaml`ï¼‰**ï¼šå¯ä»¥ç›´æ¥åœ¨`app-config.yaml`æ–‡ä»¶ä¸­é…ç½®ã€å¯ç”¨æˆ–ç¦ç”¨æ‰©å±•ã€‚
    *   **æ–‡æ¡£**ï¼š[åœ¨åº”ç”¨ä¸­é…ç½®æ‰©å±•](docs/frontend-system/building-apps/02-configuring-extensions.md)æ–‡æ¡£è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨`app.extensions`é”®ã€‚
    ```yaml
    # app-config.yaml
    app:
      extensions:
        # ç¤ºä¾‹ï¼šå¦‚æœéœ€è¦ï¼Œç¦ç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰é—®å€™å¡ç‰‡
        - my-custom-plugin/greeting-card: false
        # ç¤ºä¾‹ï¼šé…ç½®å†…ç½®çš„è­¦æŠ¥æ˜¾ç¤ºæ‰©å±•
        - app-root-element:app/alert-display:
            config:
              transientTimeoutMs: 10000 # è®©è­¦æŠ¥åœç•™æ›´ä¹…ï¼ˆé»˜è®¤ä¸º5000msï¼‰
    ```
    ï¼ˆå¯ä»¥åœ¨[åº”ç”¨å†…ç½®æ‰©å±•æ–‡æ¡£](docs/frontend-system/building-apps/03-built-in-extensions.md)ä¸­æ‰¾åˆ°`app-root-element:app/alert-display`ã€‚ï¼‰
*   **æ‰©å±•è¦†ç›–**ï¼šä¸ºäº†æ›´æ·±åº¦å®šåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨`.override()`æ–¹æ³•æ›¿æ¢æˆ–ä¿®æ”¹ç°æœ‰æ‰©å±•ã€‚
    *   **æ–‡æ¡£**ï¼š[å‰ç«¯æ‰©å±•è¦†ç›–](docs/frontend-system/architecture/25-extension-overrides.md)æ–‡æ¡£æä¾›äº†å¦‚ä½•å®ç°è¿™ä¸€ç‚¹çš„è¯¦ç»†ç¤ºä¾‹ã€‚

## ç»“è®º

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†**æ‰©å±•ï¼ˆå‰ç«¯ï¼‰**ï¼Œè¿™äº›æ ¸å¿ƒæ„å»ºå—æ„å»ºäº†æ•´ä¸ªBackstageå‰ç«¯åº”ç”¨

æˆ‘ä»¬äº†è§£åˆ°æ‰©å±•å°±åƒå•ç‹¬çš„ä¹é«˜ç§¯æœ¨ï¼Œåœ¨åˆ†å±‚çš„"åº”ç”¨æ‰©å±•æ ‘"ä¸­è¿æ¥ï¼Œé€šè¿‡æ˜ç¡®å®šä¹‰çš„è¾“å…¥å’Œè¾“å‡ºè¿›è¡Œé€šä¿¡

é€šè¿‡ç†è§£å¦‚ä½•åˆ›å»ºã€é…ç½®å’Œè¿æ¥è¿™äº›æ‰©å±•ï¼Œç°åœ¨å…·å¤‡äº†æ·±åº¦å®šåˆ¶ã€æ‰©å±•å’Œé›†æˆBackstageé—¨æˆ·åŠŸèƒ½çš„åŸºç¡€çŸ¥è¯†ï¼Œå¯ä»¥æ„å»ºä¸€è‡´ä¸”é‡èº«å®šåˆ¶çš„å¼€å‘è€…ä½“éªŒã€‚

END*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/*.Â°â˜…* ã€‚