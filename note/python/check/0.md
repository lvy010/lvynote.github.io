链接：[benfred/py-spy: Sampling profiler for Python programs](https://github.com/benfred/py-spy)

![image-20251128173308965](image-20251128173308965.png)

# docs：py-spy

`py-spy` 是一款强大的**==性能分析==工具**，能够在不干扰运行状态的前提下，洞察*正在运行的Python程序*的实际行为

通过==智能解析进程内存==来提取**Python调用栈**及*原生C/C++/Cython帧*，并将性能数据转化为**交互式火焰图**和**Speedscope JSON**等实用格式。

## 可视化

```mermaid
flowchart TD
    A0["Python进程监控
"]
    A1["采样器引擎
"]
    A2["Python解释器抽象层
"]
    A3["进程内存访问
"]
    A4["调用栈数据模型
"]
    A5["二进制与符号解析器
"]
    A6["分析输出格式
"]
    A7["原生栈追踪
"]
    A0 -- "通过结构解析" --> A2
    A0 -- "读取目标进程内存" --> A3
    A0 -- "初始化" --> A7
    A0 -- "生成" --> A4
    A1 -- "驱动采样过程" --> A0
    A1 -- "将采集数据发送至" --> A6
    A2 -- "通过内存访问获取对象数据" --> A3
    A3 -- "为二进制解析提供支持" --> A5
    A4 -- "被输出模块消费" --> A6
    A5 -- "向监控模块提供符号信息" --> A0
    A5 -- "向原生栈追踪提供二进制信息" --> A7
    A7 -- "增强并修正" --> A4
    A7 -- "通过内存访问实现栈展开" --> A3
```

## 章节

1. [分析输出格式](01_profiling_output_formats_.md)
2. [采样器引擎](02_sampler_engine_.md)
3. [进程内存访问](03_process_memory_access_.md)
4. [二进制与符号解析器](04_binary___symbol_parser_.md)
5. [Python进程监控](05_python_process_spy_.md)
6. [Python解释器抽象层](06_python_interpreter_abstraction_.md)
7. [调用栈数据模型](07_stack_trace_data_model_.md)
8. [原生栈追踪](08_native_stack_tracing_.md)

---
